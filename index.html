<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>RapidTapClicker</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>

    <div class="loading-block">
        <div class="roadmap">
            <div class="list"><img src="resources/img/success.svg" alt="1"><p class="text">Create the game</p></div>
            <div class="list"><img src="resources/img/waiting.svg" alt="1"><p class="text">Start mining</p></div>
            <div class="list"><img src="resources/img/waiting.svg" alt="1"><p class="text">Add referrals</p></div>
            <div class="list"><img src="resources/img/waiting.svg" alt="1"><p class="text">Daily rewards</p></div>
            <div class="list"><img src="resources/img/waiting.svg" alt="1"><p class="text">Time limited tasks</p></div>
            <div class="list"><img src="resources/img/waiting.svg" alt="1"><p class="text">Token AirDrop</p></div>
            <div class="list"><img src="resources/img/waiting.svg" alt="1"><p class="text">Close mining</p></div>
            <div class="list"><img src="resources/img/waiting.svg" alt="1"><p class="text">Start converting coins</p></div>
        </div>
        <p class="text">Loading...</p>
    </div>

    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // Проверяем, что объект Telegram.WebApp существует
            if (window.Telegram && Telegram.WebApp) {
                // Разворачиваем приложение на весь экран
                Telegram.WebApp.expand();
            }

            // Получаем элемент блока loading-block
            var loadingBlock = document.querySelector('.loading-block');

            // Задаем функцию для анимации ухода блока вниз
            function animateBlockDown() {
                // Добавляем класс для анимации
                loadingBlock.classList.add('slide-down');

                // Ждем 4 секунды перед тем как убрать блок
                setTimeout(function() {
                    // Скрываем блок
                    loadingBlock.style.display = 'none';
                }, 4000); // 4000 миллисекунд = 4 секунды
            }

            // Вызываем функцию анимации после загрузки страницы
            animateBlockDown();
        });
    </script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Проверяем, что объект Telegram.WebApp существует
        if (window.Telegram && Telegram.WebApp) {
            // Разворачиваем приложение на весь экран
            Telegram.WebApp.expand();

            // Получаем данные пользователя
            const user = Telegram.WebApp.initDataUnsafe.user;

            // Обновляем профильное фото и имя
            if (user) {
                const profilePhoto = document.getElementById('profile-photo');
                //const profileName = document.getElementById('profile-name');

                profilePhoto.src = user.photo_url || 'default-avatar.png'; // Подставьте URL аватара пользователя или изображение по умолчанию
                //profileName.textContent = user.first_name + ' ' + (user.last_name || '');
            }
        }
    });
</script>

    <style>
        .slide-down {
            animation: slideDown 4s forwards;
        }

        @keyframes slideDown {
            from {
                transform: translateY(0);
            }
            to {
                transform: translateY(100%);
            }
        }
    </style>

    <!-- BACKGROUND 

    <div class="circle2"></div>

     -->

    <div class="header">
        <div class="profile-image silver-img">
            <img id="profile-photo" alt="2">
        </div>
        <div class="info">
            <div class="league">
                <p>League</p>
                <p id="league-name" class="league-name bronze">SILVER</p>
            </div>
            <div class="progress-bar">
                <div id="bar" class="bar"><div id="current-bar" class="current-bar"></div></div>
                <p id="limit" class="limit">?</p>
            </div>
        </div>
    </div>

    <div id="container" class="container silver-border">
        <p class="count"><span id="click-count">0</span><img src="resources/img/icon.svg" alt=""></p>
        <img class="click-button" id="click-button" src="resources/img/COIN.png" alt="1">
    </div>

    <script src="scripts/clickHandler.js"></script>
    <script src="scripts/loading.js"></script>
    
</body>
</html>
